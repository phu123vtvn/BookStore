<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace="admin/header :: library">
		<meta charset="UTF-8"/>
		<title>Insert title here</title>
	</head>
	<body>
		<section>
			<div class="main-content container-fluid">
				<div class="row">
					<section th:replace="admin/header :: header"></section>
					<!-- menu -->
					<div th:replace="admin/menu :: menu"></div>
					<!-- menu -->
					
					<div class="col-md-10 ">
						<div class="p-4">
								<h1 class="border-bottom py-3">List Content</h1>
								<div class="card">
									<div class="card-header"> <p class="m-0">Profile Edit Element</p></div>
									<div class="card-body">
										<div th:if="${success}" class="row alert alert-success alert-dismissible">
			        						<button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
			        						<span th:text="${success}"></span>
			    						</div>
										<div th:if="${error}" class="row alert alert-success alert-dismissible">
			        						<button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
			        						<span th:text="${error}"></span>
			    						</div>
										<table class="table table-striped table-bordered" id="dataTables">
											<thead>
												<tr>
													<th width="2%" scope="col">STT</th>
													<th width="8%" scope="col">Hình Ảnh</th>
													<th width="30%" scope="col">Tên Sản Phẩm</th>
													<th width="15%" scope="col">Tác Giả</th>
													<th width="15%" scope="col">Thể Loại</th>
													<th width="5%" scope="col">Kho</th>
													<th width="7%" scope="col">Giá</th>
													<th width="9%" scope="col">Option</th>
													<th width="9%" scope="col">Ngày Tạo</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="product, item:${products}">
													<td class="font-weight-normal" th:utext="${item.count}"></td>
													<td>
														<img th:src="@{/img/{image}(image=${product.imgae})}" width="60px" height="50px" class="img-fluid"/>
													</td>
													<td th:text="${product.name}"></td>
													<td th:text="${product.author}"></td>
													<td th:text="${product.categoryEntity.name}"></td>
													<td th:text="${product.number}"></td>
													<td th:inline="text">[[${#numbers.formatInteger(product.price,3,'COMMA')}]]</td>
													<td>
														<a th:switch="${product.status}">
															<a th:case="'0'" class="btn btn-sm text-danger border btn-light status" title="Cập nhật trạng thái">
																<i class="fas fa-toggle-off"></i>
															</a>
															<a th:case="'1'" class="btn btn-sm text-success border btn-light status" title="Cập nhật trạng thái">
																<i  class="fas fa-toggle-on"></i>
															</a>
														</a>
														<!-- update -->
														<a class="btn btn-sm text-info border btn-light" title="Cập nhật sản phẩm" th:href="@{/admin/product/{id}/edit(id=${product.id})}"> <i class="far fa-edit"></i></a>
														
														<!-- store -->
														<button class="btn btn-sm text-danger border btn-light delete" title="Xoá sản phẩm" type="button" value="${item.id}">
														<i class="far fa-trash-alt"></i>
														</button>
													</td>
													<td th:text="${product.createdDate}"></td>
												</tr>
											</tbody>
										</table>
								</div>
							</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	
	<script type="text/javascript" charset="utf8" th:src="@{/datatables/js/jquery-3.5.1.js}"></script>
	<script type="text/javascript" charset="utf8" th:src="@{/datatables/js/jquery.dataTables.min.js}"></script>
	<script>
	$(document).ready(function() {
		$('#dataTables').DataTable();
	} );
	</script>
</body>
</html>